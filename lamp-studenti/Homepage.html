<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Galerie</title>
  <style>
    :root{
      --bg:#0f1722; --card:#0b1220; --accent:#60a5fa; --muted:#9aa8bf;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial;background:linear-gradient(180deg,#071023 0%, #081226 100%);color:#e6eef8;min-height:100vh;display:flex;align-items:flex-start;justify-content:center;padding:32px}
    .wrap{width:100%;max-width:1100px}
    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    h1{font-size:22px;margin:0}

    .controls{margin-left:auto;display:flex;gap:12px;align-items:center}
    select{background:var(--card);border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:8px 12px;border-radius:10px}

    .gallery-outer{position:relative;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:18px}
    .gallery{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
      gap:12px;
      align-items:stretch;
      max-height:60vh; /* allow vertical scroll if many rows */
      overflow:auto;
      padding-right:8px;
    }

    .card{background:#071226;border-radius:10px;overflow:hidden;box-shadow:0 4px 18px rgba(2,6,23,0.6);cursor:pointer;transition:transform .18s ease}
    .card:hover{transform:translateY(-6px)}
    .card img{display:block;width:100%;height:140px;object-fit:cover}
    .meta{padding:8px 10px}
    .meta small{color:var(--muted);display:block}

    /* right arrow */
    .arrow-right{
      position:absolute;right:12px;top:50%;transform:translateY(-50%);
      width:56px;height:56px;border-radius:28px;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);
      box-shadow:0 6px 20px rgba(8,12,20,0.6);cursor:pointer;backdrop-filter:blur(4px)
    }
    .arrow-right:active{transform:translateY(-50%) scale(.98)}
    .arrow-right svg{width:20px;height:20px;fill:var(--accent)}

    /* small screens tweaks */
    @media (max-width:560px){
      .card img{height:110px}
      .arrow-right{width:48px;height:48px;right:8px}
      .gallery{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}
    }

    /* hidden state for filtering */
    .hidden{display:none !important;}

    /* subtle focus outline for accessibility */
    .card:focus{outline:3px solid rgba(96,165,250,0.18)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Galerie</h1>
      <div class="controls">
        <label for="category" style="font-size:13px;color:var(--muted);margin-right:6px">Categorie</label>
        <select id="category" aria-label="Alege categorie">
          <option value="all">Toate</option>
          <option value="natura">Natură</option>
          <option value="orase">Orașe</option>
          <option value="portrete">Portrete</option>
          <option value="abstract">Abstract</option>
        </select>
      </div>
    </header>

    <div class="gallery-outer">
      <div id="gallery" class="gallery" tabindex="0" aria-live="polite">
        <!-- images: each .card has data-category and an id for navigation -->
        <!-- using picsum.photos for placeholder images -->

        <article class="card" data-category="natura" id="img1" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1018/600/400" alt="Peisaj montan">
          <div class="meta"><strong>Peisaj montan</strong><small>Natură</small></div>
        </article>

        <article class="card" data-category="orase" id="img2" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1011/600/400" alt="Clădiri în oraș">
          <div class="meta"><strong>Oraș vechi</strong><small>Orașe</small></div>
        </article>

        <article class="card" data-category="portrete" id="img3" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1005/600/400" alt="Portret femeie">
          <div class="meta"><strong>Portret</strong><small>Portrete</small></div>
        </article>

        <article class="card" data-category="abstract" id="img4" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1025/600/400" alt="Abstract">
          <div class="meta"><strong>Compoziție abstractă</strong><small>Abstract</small></div>
        </article>

        <article class="card" data-category="natura" id="img5" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1056/600/400" alt="Râu într-o pădure">
          <div class="meta"><strong>Râu în pădure</strong><small>Natură</small></div>
        </article>

        <article class="card" data-category="orase" id="img6" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1031/600/400" alt="Skyline">
          <div class="meta"><strong>Skyline modern</strong><small>Orașe</small></div>
        </article>

        <article class="card" data-category="portrete" id="img7" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1001/600/400" alt="Portret bărbat">
          <div class="meta"><strong>Privire</strong><small>Portrete</small></div>
        </article>

        <article class="card" data-category="abstract" id="img8" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1062/600/400" alt="Forme colorate">
          <div class="meta"><strong>Forme și texturi</strong><small>Abstract</small></div>
        </article>

        <article class="card" data-category="natura" id="img9" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1043/600/400" alt="Cascadă">
          <div class="meta"><strong>Cascadă</strong><small>Natură</small></div>
        </article>

        <article class="card" data-category="orase" id="img10" tabindex="0">
          <img loading="lazy" src="https://picsum.photos/id/1027/600/400" alt="Stradă pietonală">
          <div class="meta"><strong>Stradă veche</strong><small>Orașe</small></div>
        </article>

      </div>

      <button id="nextBtn" class="arrow-right" aria-label="Arată următoarea poză">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg>
      </button>
    </div>

    <p style="margin-top:10px;color:var(--muted)">Folosește dropdown-ul pentru a filtra pe categorii. Apasă săgeata din dreapta pentru a vedea următoarele imagini în galeria orizontal/scroll.</p>
  </div>

  <script>
    (function(){
      const select = document.getElementById('category');
      const gallery = document.getElementById('gallery');
      const nextBtn = document.getElementById('nextBtn');

      // filter function
      function filter(cat){
        const cards = gallery.querySelectorAll('.card');
        cards.forEach(c=>{
          if(cat === 'all' || c.dataset.category === cat) c.classList.remove('hidden');
          else c.classList.add('hidden');
        });
      }

      select.addEventListener('change', e=>{
        filter(e.target.value);
        // after filtering, ensure first visible card is scrolled into view
        const first = gallery.querySelector('.card:not(.hidden)');
        if(first) first.scrollIntoView({behavior:'smooth', block:'nearest', inline:'nearest'});
      });

      // Arrow: show "next" visible card. It will find the currently most visible card and move to the next.
      function scrollToNext(){
        const visible = Array.from(gallery.querySelectorAll('.card:not(.hidden)'));
        if(visible.length===0) return;

        // find the card whose bounding rect is closest to left edge of gallery
        const gRect = gallery.getBoundingClientRect();
        // prefer card which is partially visible from left to right
        let index = visible.findIndex(card=>{
          const r = card.getBoundingClientRect();
          return r.left >= gRect.left - 1; // first card whose left is inside or right of gallery left
        });
        if(index === -1) index = 0;
        let targetIndex = Math.min(index+1, visible.length-1);
        visible[targetIndex].scrollIntoView({behavior:'smooth', block:'nearest', inline:'nearest'});
        // for keyboard focus accessibility
        visible[targetIndex].focus();
      }

      nextBtn.addEventListener('click', scrollToNext);

      // allow keyboard: Right arrow key triggers next
      gallery.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowRight'){
          e.preventDefault(); scrollToNext();
        }
      });

      // click on image to open in a simple lightbox
      gallery.addEventListener('click', (e)=>{
        const card = e.target.closest('.card');
        if(!card) return;
        openLightbox(card.querySelector('img').src, card.querySelector('.meta strong').textContent);
      });

      function openLightbox(src, title){
        const overlay = document.createElement('div');
        overlay.style.position='fixed';overlay.style.inset=0;overlay.style.background='rgba(3,7,14,0.8)';overlay.style.display='flex';overlay.style.alignItems='center';overlay.style.justifyContent='center';overlay.style.zIndex=9999;
        overlay.innerHTML = `\n          <div style=\"max-width:90vw;max-height:90vh;padding:10px;\">\n            <img src=\"${src}\" style=\"max-width:100%;max-height:80vh;border-radius:8px;display:block;\">\n            <div style=\"color:var(--muted);text-align:center;margin-top:8px\">${title}</div>\n          </div>`;
        overlay.addEventListener('click', ()=>overlay.remove());
        document.body.appendChild(overlay);
      }

      // initial keyboard focus
      gallery.querySelector('.card')?.setAttribute('tabindex', '0');

    })();
  </script>
</body>
</html>
